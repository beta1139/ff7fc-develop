----------------------------------------------------------------------
FF7FC MapEditerver3.00 (2012/12/29)
----------------------------------------------------------------------

▼概要
  ・FF7FC向けマップエディタ

▼プログラム製作者
  ・BETA

▼機能
  ・マップチップ配置機能
    ・背景及び前景の2種類のレイヤーを配置可能
  ・当たり判定情報設定機能
    ・なし、壁、山、海の4種類の当たり判定情報を設定可能
  ・ワープポイント配置機能
    ・フィールドから町への移動などのようなワープポイントを
      設定可能
  ・マップのビットマップイメージ出力機能
    ・編集中マップの全体図を24bit形式のビットマップで出力する
    ・出力先は./mapimage/の下
  ・コピペ機能
    ・右ドラックでコピー領域選択、cでコピー、vで貼り付け
	  コピーするデータは、マップチップＩＤ、当たり判定、当たり判定の階層

▼操作
  ・矢印キー or h,j,k,l: 移動
  ・c                  : キャラクターチェンジ
  ・e                  : エディットモードへ切り替え
  ・p                  : プレイモードへ切り替え
  ・左クリック         : マップチップのスクロール、
                         マップチップの選択
                         マップチップの配置
                         マップデータのセーブ、ロード
                         当たり判定チップの選択
                         当たり判定情報設定
                         など
  ・右ドラッグ         : コピー領域選択
  ・c                  : コピー領域をバッファにコピー
  ・v                  : バッファにコピーしたコピー領域を
                         カーソル位置に貼り付け

▼ウィンドウサイズ変更について
  ・添付のwindow_size.txtを編集する。1倍、1.5倍、2倍に対応。

▼データ仕様
  ・マップデータ
    ・先頭1バイト: マップの幅  (1画面単位) 最大値15
    ・次の1バイト: マップの高さ(1画面単位) 最大値15
    ・次の(マップの幅*16*マップの高さ*15*2)バイト:
      マップチップID 1箇所あたり2バイト使用
    ・次の(マップの幅*16*マップの高さ*15)バイト:
      チップが背景か前景かの情報 1箇所あたり1バイト使用
      0 -> 背景
      1 -> 前景
    ・次の(マップの幅*16*マップの高さ*15)バイト:
      当たり判定ID 1箇所あたり1バイト使用
      0 -> 平地(人と飛空艇が移動可)
      1 -> 壁(移動不可)
      2 -> 山(飛空艇のみ移動可)
      3 -> 海(船と飛空艇が移動可)
      4 -> 未定
      5 -> 未定
      下層及び上層の当たり判定を１桁ずつ設定する
      01 -> 上層の当たり判定が0、下層の当たり判定が1を表す。
    ・次の(マップの幅*16*マップの高さ*15)バイト:
      当たり判定の階層
      0 -> 下層
      1 -> 上層
      2 -> 中層
    ・次の(マップの幅*16*マップの高さ*15*7)バイト:
      ワープ位置情報 1箇所あたり7バイト使用
      ・先頭1バイト: ワープが設定されているかのフラグ
                     0 -> 設定されていない
                     1 -> 設定されている
      ・次の2バイト: ワープ先のマップID
      ・次の1バイト: ワープ先のX座標
      ・次の1バイト: ワープ先のY座標
      ・次の1バイト: ワープ後の体の向き
                     0 -> 上
                     1 -> 下
                     2 -> 左
                     3 -> 右
      ・次の1バイト: ワープタイプ
                     0 -> 入り口
                     1 -> 出口
                     主にSEの再生時に利用する

  ・マップチップ
    ・読み込むマップチップ画像は1枚のみ。
      使用するチップ画像を1枚の画像に詰め込んで下さい。
    ・黒(RGB:0x000000)を透過色として設定しています。
    ・幅は256固定
    ・高さは16の倍数であれば任意。拡張可能です。
    ・マップチップID
      ・マップチップ画像の左上のチップのIDを0とし、チップ画像の右下方向に向かって
        1ずつ増える値をマップチップIDとして割り振っています。
      ・マップチップIDは最大0xffff(65535)まで割り当て可能。
        言い換えればマップチップは最大65535個まで拡張可能ということになります。

    (図.マップチップID)
    +----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+
    |0000|0001|0002|0003|0004|0005|0006|0007|0008|0009|000a|000b|000c|000d|000e|000f|
    +----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+
    |0010|0011|0012|0013|0014|0015|0016|0017|0018|0019|001a|001b|001c|001d|001e|001f|
    +----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+
    |                                      (略)                                     |
    +----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+
    |ffe0|ffe1|ffe2|ffe3|ffe4|ffe5|ffe6|ffe7|ffe8|ffe9|ffea|ffeb|ffec|ffed|ffee|ffef|
    +----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+
    |fff0|fff1|fff2|fff3|fff4|fff5|fff6|fff7|fff8|fff9|fffa|fffb|fffc|fffd|fffe|ffff|
    +----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+

▼当たり判定データ2階層化についてのメモ
　今回当たり判定のデータを2階層分持てるように改造しました。
　
　ATARI Tのときに当たり判定タイプというものを設定します。
　1チップ毎にその場所が上層タイプか下層タイプかのいづれかを設定します。
　デフォルトでは全て下層になってます。
　
　ATARI Lのときは下層の当たり判定を設定し、ATARI Uのときは上層の当たり判定を設定します。
　当たり判定データとして1階層しか必要なければ上層は無視しておｋです。
　
　当たり判定処理では、現在地の当たり判定タイプが上層であれば上層の当たり判定データを参照し、
　現在地の当たり判定タイプが下層であれば下層の当たり判定データを参照し、当たり判定を行います。
　
　当たり判定データのグラフィック表示は前回から変更しており、
　上層の当たり判定データはチップの上半分に、下層の当たり判定データはチップの下半分に表示してます。
　
▼当たり判定の中層タイプについて
  橋の上を歩いた後にその橋の下をくぐるような処理を実現するために導入
  中層タイプの当たり判定タイプは直前に歩いた上層か下層の当たり判定タイプと置き換える

※注意
  ・SAVE/LOADボタンのクリックでセーブ/ロードされるマップは編集中の１つのマップのみ

▼更新履歴
2012/12/29 - ver3.00
  コピペ機能に対応
  サウンドプレイヤー機能を削除
2011/05/07 - ver2.00
　マップデータの仕様変更
  ・先頭1バイト目のマップID情報を削除
  ・ワープ先ID情報を1バイトから2バイトに変更
  ・マップデータファイル名を mapdata_??(??は16進数) から mapdata_???(???は10進数) へ変更
    マップデータの最大数が255から999へ拡張
  当たり判定タイプに中層タイプを追加
  ・橋の上を歩いた後にその橋の下をくぐるような処理が可能になった
  現在wikiにアップされているマップデータを全てマップエディタに組み込んだ
  (全579個中94個のマップが完成しており現在の進捗率16.2%)
2011/05/05 - ver1.22
  マウスの左ボタン押しっぱなしでマップＩＤ，サウンドＩＤが更新されるように修正した
2011/03/31 - ver1.21
  マウスの左ボタン押しっぱなしでマップチップの表示位置が更新されるように修正した
2010/12/11 - ver1.20
  当たり判定の2階層化

----------------------------------------------------------------------
※要望、バグ報告など募集
